{"version":3,"sources":["../src/buildQuery.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,UAAU,OAAV,EAAmB;AAClC,SAAO,UAAU,KAAV,EAAiB,YAAjB,EAA+B;AACpC,QAAI,CAAC,YAAD,EAAe;AACjB,aAAO,KAAP,CADiB;KAAnB;;AAIA,QAAI,aAAa,KAAb,EAAoB;AACtB,YAAM,KAAN,CAAY,aAAa,KAAb,CAAZ,CADsB;KAAxB;;AAIA,QAAI,aAAa,IAAb,EAAmB;AACrB,YAAM,IAAN,CAAW,aAAa,IAAb,CAAX,CADqB;KAAvB;;AAIA,QAAI,QAAQ,KAAR,KAAkB,CAAC,aAAa,KAAb,IAAsB,aAAa,KAAb,KAAuB,GAAvB,IAA8B,aAAa,KAAb,GAAqB,QAAQ,KAAR,CAA5F,EAA4G;AAC9G,mBAAa,KAAb,GAAqB,QAAQ,KAAR,CADyF;KAAhH;;AAIA,QAAI,aAAa,KAAb,IAAsB,MAAM,EAAN,KAAa,OAAb,IAAwB,CAAC,aAAa,QAAb,EAAuB;AACxE,YAAM,KAAN,CAAY,aAAa,KAAb,CAAZ,CADwE;KAA1E;;AAIA,QAAI,aAAa,IAAb,EAAmB;AACrB,YAAM,IAAN,CAAW,aAAa,IAAb,CAAX,CADqB;KAAvB;;AAIA,QAAI,aAAa,QAAb,EAAuB;AACzB,YAAM,QAAN,CAAe,aAAa,QAAb,CAAf,CADyB;KAA3B;;AAIA,QAAI,aAAa,MAAb,EAAqB;AACvB,YAAM,MAAN,CAAa,aAAa,MAAb,CAAb,CADuB;KAAzB;;AAIA,QAAI,aAAa,QAAb,EAAuB;AACzB,YAAM,QAAN,CAAe,aAAa,QAAb,CAAf,CADyB;KAA3B;;AAIA,WAAO,KAAP,CArCoC;GAA/B,CAD2B;CAAnB","file":"buildQuery.js","sourcesContent":["module.exports = function (options) {\r\n  return function (query, queryOptions) {\r\n    if (!queryOptions) {\r\n      return query\r\n    }\r\n\r\n    if (queryOptions.query) {\r\n      query.where(queryOptions.query)\r\n    }\r\n\r\n    if (queryOptions.skip) {\r\n      query.skip(queryOptions.skip)\r\n    }\r\n\r\n    if (options.limit && (!queryOptions.limit || queryOptions.limit === '0' || queryOptions.limit > options.limit)) {\r\n      queryOptions.limit = options.limit\r\n    }\r\n\r\n    if (queryOptions.limit && query.op !== 'count' && !queryOptions.distinct) {\r\n      query.limit(queryOptions.limit)\r\n    }\r\n\r\n    if (queryOptions.sort) {\r\n      query.sort(queryOptions.sort)\r\n    }\r\n\r\n    if (queryOptions.populate) {\r\n      query.populate(queryOptions.populate)\r\n    }\r\n\r\n    if (queryOptions.select) {\r\n      query.select(queryOptions.select)\r\n    }\r\n\r\n    if (queryOptions.distinct) {\r\n      query.distinct(queryOptions.distinct)\r\n    }\r\n\r\n    return query\r\n  }\r\n}\r\n"]}